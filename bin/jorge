#!/usr/bin/env php
<?php

/**
 * This script runs Jorge, MHC’s command-line tool for automating development tasks.
 */

$autoload_paths = [
  '/../vendor/autoload.php', // clone of Git repo
  '/../../autoload.php',
  '/../../../autoload.php',  // cgr
];

error_reporting(E_ALL ^ E_WARNING);
foreach ($autoload_paths as $autoload_path) {
  $autoload = include_once(__DIR__ . $autoload_path);
  if ($autoload) {
    break;
  }
}
error_reporting(E_ALL);

if (!$autoload) {
  fwrite(STDERR, 'Can’t find autoload.php');
  exit(1);
}

use MountHolyoke\Jorge\Jorge;

$JORGE = new Jorge();
$JORGE->setAutoload($autoload);
$JORGE->configure();
$JORGE->run();
